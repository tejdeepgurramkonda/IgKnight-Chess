spring.application.name=igknight-api-gateway

server.port=8083

# Spring Cloud Gateway Route Configuration (Reactive)
spring.cloud.gateway.routes[0].id=game-service
spring.cloud.gateway.routes[0].uri=http://localhost:8082
spring.cloud.gateway.routes[0].predicates[0]=Path=/api/chess/**


spring.cloud.gateway.routes[1].id=auth-service
spring.cloud.gateway.routes[1].uri=http://localhost:8084
spring.cloud.gateway.routes[1].predicates[0]=Path=/api/auth/**,/oauth2/**
spring.cloud.gateway.routes[1].filters[0]=StripPrefix=2

spring.cloud.gateway.routes[2].id=user-profile-service
spring.cloud.gateway.routes[2].uri=http://localhost:8085
spring.cloud.gateway.routes[2].predicates[0]=Path=/profiles/**

spring.cloud.gateway.routes[3].id=matchmaking-service
spring.cloud.gateway.routes[3].uri=http://localhost:8086
spring.cloud.gateway.routes[3].predicates[0]=Path=/matchmaking/**

# Global CORS Configuration for Spring Cloud Gateway
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowed-origins=http://localhost:5173,http://localhost:3000,http://localhost:8080
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowed-methods=GET,POST,PUT,DELETE,OPTIONS,PATCH
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowed-headers=*
spring.cloud.gateway.globalcors.cors-configurations.[/**].allow-credentials=true
spring.cloud.gateway.globalcors.cors-configurations.[/**].exposed-headers=Authorization,X-User-Id,X-Username
spring.cloud.gateway.globalcors.cors-configurations.[/**].max-age=3600

# JWT Configuration
jwt.secret=lCRPHrPH8VBO8YTlgpPfOz9fLef4UfPpI2F3bZ8Czzk
jwt.expiration=86400000
# 24 hours in milliseconds

# Enable gateway logging for debugging
logging.level.org.springframework.cloud.gateway=DEBUG
logging.level.reactor.netty=INFO


